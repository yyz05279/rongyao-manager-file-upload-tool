# 脚本整理说明

## 📋 当前脚本列表

### macOS 打包脚本（3 个）

1. ❌ `build_macos.sh` (1.1K) - **原版，有闪退问题，应删除**
2. ✅ `build_macos_fixed.sh` (1.7K) - **修复版，稳定可用**
3. ✅ `build_macos_debug.sh` (1.5K) - **调试版，用于排查问题**

### Windows 打包脚本（1 个）

1. ✅ `build_windows.bat` (1.0K) - **Windows 打包脚本**

### 安装脚本（2 个）

1. ✅ `install.sh` (1.4K) - **macOS/Linux 安装脚本**
2. ✅ `install.bat` (1.3K) - **Windows 安装脚本**

## 🎯 整理方案

### 方案一：保留修复版作为默认（推荐）

**操作：**

1. ❌ 删除 `build_macos.sh`（原版有缺陷）
2. ✅ 将 `build_macos_fixed.sh` 重命名为 `build_macos.sh`（作为主版本）
3. ✅ 保留 `build_macos_debug.sh`（调试用）
4. ✅ 保留所有其他脚本

**优点：**

- 用户直接使用 `build_macos.sh` 就是最稳定版本
- 文件名更简洁
- 避免混淆

**最终脚本列表：**

```
macOS:
  ✅ build_macos.sh         (修复版，默认使用)
  ✅ build_macos_debug.sh   (调试版，排查问题用)

Windows:
  ✅ build_windows.bat      (Windows打包)

安装:
  ✅ install.sh             (macOS/Linux安装)
  ✅ install.bat            (Windows安装)
```

### 方案二：保留所有版本但标注清楚（不推荐）

**操作：**

- 保留所有脚本
- 在文档中明确说明哪个是推荐版本

**缺点：**

- 容易混淆
- 用户可能误用旧版本

## 📝 需要更新的文档

如果采用方案一，需要更新以下文档中的脚本引用：

1. **README.md**

   - 将 `./build_macos_fixed.sh` → `./build_macos.sh`

2. **快速开始.md**

   - 将 `./build_macos_fixed.sh` → `./build_macos.sh`

3. **QUICK_FIX.md**

   - 将 `./build_macos_fixed.sh` → `./build_macos.sh`

4. **START_HERE.md**

   - 将 `./build_macos_fixed.sh` → `./build_macos.sh`

5. **闪退问题已修复.md**

   - 将 `./build_macos_fixed.sh` → `./build_macos.sh`

6. **DEBUG.md**
   - 将 `./build_macos_fixed.sh` → `./build_macos.sh`

## ✅ 推荐执行的操作

```bash
# 1. 删除有缺陷的原版
rm build_macos.sh

# 2. 将修复版重命名为主版本
mv build_macos_fixed.sh build_macos.sh

# 3. 验证脚本可执行
chmod +x build_macos.sh
chmod +x build_macos_debug.sh
```

## 📊 对比分析

| 脚本                  | 状态      | 打包模式  | 插件收集 | 建议               |
| --------------------- | --------- | --------- | -------- | ------------------ |
| build_macos.sh (原版) | ❌ 有缺陷 | --onefile | 不完整   | **删除**           |
| build_macos_fixed.sh  | ✅ 稳定   | --onedir  | 完整     | **重命名为主版本** |
| build_macos_debug.sh  | ✅ 调试用 | --onedir  | 完整     | **保留**           |
| build_windows.bat     | ✅ 正常   | --onefile | 基本     | **保留**           |
| install.sh            | ✅ 正常   | -         | -        | **保留**           |
| install.bat           | ✅ 正常   | -         | -        | **保留**           |

## 🎯 最终建议

**采用方案一**，执行以下清理：

1. ❌ 删除 `build_macos.sh`（有缺陷）
2. ✅ 重命名 `build_macos_fixed.sh` → `build_macos.sh`
3. ✅ 保留其他所有脚本
4. 📝 批量更新文档引用

这样用户只需要：

```bash
./build_macos.sh        # 正常打包（自动使用修复版）
./build_macos_debug.sh  # 调试模式（如果遇到问题）
```

简单清晰，不会混淆！
