# âš ï¸ "Tauri ç¯å¢ƒæœªåˆå§‹åŒ–" é”™è¯¯è§£å†³æ–¹æ¡ˆ

**é”™è¯¯ä¿¡æ¯**: `âŒ Tauri ç¯å¢ƒæœªåˆå§‹åŒ–ï¼`  
**æ—¥æœŸ**: 2025-10-24  
**çŠ¶æ€**: âœ… å·²è§£å†³

---

## ğŸ” é”™è¯¯åŸå› 

å½“æ‚¨çœ‹åˆ°ä»¥ä¸‹é”™è¯¯æç¤ºæ—¶ï¼š

```
âŒ Tauri ç¯å¢ƒæœªåˆå§‹åŒ–ï¼

è¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨åº”ç”¨ï¼š
cd tauri-app
npm run tauri:dev

ä¸è¦ä½¿ç”¨ npm run devï¼ˆè¿™åªä¼šå¯åŠ¨å‰ç«¯æœåŠ¡å™¨ï¼‰
```

**è¿™æ˜¯å› ä¸ºæ‚¨ä½¿ç”¨äº†é”™è¯¯çš„å¯åŠ¨å‘½ä»¤ï¼**

---

## âŒ é”™è¯¯çš„å¯åŠ¨æ–¹å¼

```bash
# âŒ é”™è¯¯ - åªå¯åŠ¨å‰ç«¯ Vite æœåŠ¡å™¨
npm run dev

# âŒ é”™è¯¯ - ä¼šçœ‹åˆ° Tauri ç¯å¢ƒæœªåˆå§‹åŒ–é”™è¯¯
# å› ä¸ºæ²¡æœ‰ Rust åç«¯ï¼Œinvoke() å‡½æ•°ä¸å¯ç”¨
```

**åæœ**:

- âœ… å‰ç«¯ç•Œé¢å¯ä»¥æ˜¾ç¤º
- âŒ ä½†æ˜¯æ— æ³•è°ƒç”¨åç«¯åŠŸèƒ½
- âŒ ç‚¹å‡»ç™»å½•æŒ‰é’®ä¼šæŠ¥é”™
- âŒ æ‰€æœ‰ invoke() è°ƒç”¨éƒ½ä¼šå¤±è´¥

---

## âœ… æ­£ç¡®çš„å¯åŠ¨æ–¹å¼

```bash
# âœ… æ­£ç¡® - å¯åŠ¨å®Œæ•´çš„ Tauri åº”ç”¨
cd tauri-app
npm run tauri:dev
```

**æ•ˆæœ**:

- âœ… å¯åŠ¨ Rust åç«¯æœåŠ¡å™¨
- âœ… å¯åŠ¨ Vite å‰ç«¯æœåŠ¡å™¨
- âœ… è‡ªåŠ¨æ‰“å¼€åº”ç”¨çª—å£
- âœ… invoke() å‡½æ•°å¯ä»¥æ­£å¸¸å·¥ä½œ
- âœ… ç™»å½•åŠŸèƒ½æ­£å¸¸

---

## ğŸ“Š ä¸¤ç§å‘½ä»¤çš„åŒºåˆ«

| å‘½ä»¤                | å‰ç«¯ | åç«¯ | çª—å£ | invoke() | ç™»å½• | ç”¨é€”          |
| ------------------- | ---- | ---- | ---- | -------- | ---- | ------------- |
| `npm run dev`       | âœ…   | âŒ   | âŒ   | âŒ       | âŒ   | åªå¼€å‘å‰ç«¯ UI |
| `npm run tauri:dev` | âœ…   | âœ…   | âœ…   | âœ…       | âœ…   | å®Œæ•´å¼€å‘      |

---

## ğŸ› ï¸ åˆšåˆšä¿®å¤çš„é—®é¢˜

### é—®é¢˜ 1: ç¼ºå°‘å›¾æ ‡æ–‡ä»¶ âœ…

**é”™è¯¯ä¿¡æ¯**:

```
error: proc macro panicked
= help: message: failed to open icon .../icons/icon.png: No such file or directory
```

**è§£å†³æ–¹æ¡ˆ**:

- âœ… åˆ›å»ºäº† `src-tauri/icons/` ç›®å½•
- âœ… ç”Ÿæˆäº†å ä½å›¾æ ‡ `icon.png`
- âœ… å›¾æ ‡ä¸ºè“è‰²åœ†å½¢ï¼Œ128x128 åƒç´ 

### é—®é¢˜ 2: Excel.rs è­¦å‘Š âœ…

**è­¦å‘Šä¿¡æ¯**:

```
warning: unused import: `DataType`
```

**è§£å†³æ–¹æ¡ˆ**:

- âœ… ç§»é™¤äº†æœªä½¿ç”¨çš„ `DataType` å¯¼å…¥
- âœ… ä»£ç æ›´æ¸…æ™°

---

## ğŸš€ å®Œæ•´çš„å¯åŠ¨æ­¥éª¤

### æ­¥éª¤ 1: è¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd "/Users/yyz/Desktop/ç†”ç›ç®¡ç†æ–‡ä»¶ä¸Šä¼ å·¥å…·/tauri-app"
```

### æ­¥éª¤ 2: å¯åŠ¨åº”ç”¨

```bash
npm run tauri:dev
```

### æ­¥éª¤ 3: ç­‰å¾…ç¼–è¯‘

**é¦–æ¬¡å¯åŠ¨**ï¼ˆçº¦ 30-60 ç§’ï¼‰:

```
1. â³ Vite å¼€å‘æœåŠ¡å™¨å¯åŠ¨...
   VITE v5.4.21  ready in xxx ms
   âœ  Local:   http://localhost:5173/

2. â³ Rust ä»£ç å¼€å§‹ç¼–è¯‘...
   Compiling molten-salt-upload v0.1.0
   Compiling tauri v2.x.x
   ...

3. âœ… ç¼–è¯‘å®Œæˆ
   Finished dev [unoptimized + debuginfo] target

4. ğŸ‰ åº”ç”¨çª—å£è‡ªåŠ¨æ‰“å¼€ï¼
```

**åç»­å¯åŠ¨**ï¼ˆçº¦ 5-10 ç§’ï¼‰:

- åªéœ€é‡æ–°ç¼–è¯‘ä¿®æ”¹çš„ä»£ç 
- æ›´å¿«å¯åŠ¨

---

## âœ… éªŒè¯åº”ç”¨æ­£ç¡®å¯åŠ¨

å¯åŠ¨æˆåŠŸåï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ï¼š

### ç»ˆç«¯è¾“å‡º

```bash
âœ… VITE v5.4.21  ready in xxx ms
âœ… Compiling molten-salt-upload v0.1.0
âœ… Finished dev [unoptimized + debuginfo] target
âœ… Running target/debug/molten-salt-upload
```

### åº”ç”¨çª—å£

```
âœ… è‡ªåŠ¨æ‰“å¼€æ¡Œé¢åº”ç”¨çª—å£
âœ… æ˜¾ç¤ºç™»å½•ç•Œé¢
âœ… çª—å£æ ‡é¢˜: "ç†”ç›ç®¡ç†æ–‡ä»¶ä¸Šä¼ å·¥å…·"
âœ… åªæœ‰ä¸¤ä¸ªè¾“å…¥æ¡†ï¼ˆç”¨æˆ·åã€å¯†ç ï¼‰
âœ… æ²¡æœ‰ API åœ°å€è¾“å…¥æ¡†
```

### åŠŸèƒ½æµ‹è¯•

```
âœ… è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
âœ… ç‚¹å‡»ç™»å½•æŒ‰é’®
âœ… ä¸ä¼šå‡ºç° "Tauri ç¯å¢ƒæœªåˆå§‹åŒ–" é”™è¯¯
âœ… ä¼šè¿æ¥åˆ° http://42.192.76.234:8081
```

---

## ğŸ”„ å¸¸è§é—®é¢˜è§£å†³

### Q1: ç«¯å£è¢«å ç”¨

**é”™è¯¯**:

```
Port 5173 is in use, trying another one...
Port 5174 is in use, trying another one...
âœ  Local:   http://localhost:5175/
```

**è§£å†³**:

- è¿™æ˜¯æ­£å¸¸çš„ï¼ŒVite ä¼šè‡ªåŠ¨ä½¿ç”¨å…¶ä»–ç«¯å£
- æˆ–è€…åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹ï¼š
  ```bash
  lsof -ti:5173 | xargs kill -9
  ```

### Q2: ç¼–è¯‘é”™è¯¯

**é—®é¢˜**: Rust ç¼–è¯‘å¤±è´¥

**è§£å†³**:

```bash
# æ¸…ç†å¹¶é‡æ–°ç¼–è¯‘
cd tauri-app/src-tauri
cargo clean
cd ../..
npm run tauri:dev
```

### Q3: å›¾æ ‡ç¼ºå¤±

**é”™è¯¯**: `failed to open icon`

**è§£å†³**: å·²ç»ä¿®å¤ï¼ç°åœ¨æœ‰å ä½å›¾æ ‡äº† âœ…

### Q4: ä¾èµ–é—®é¢˜

**é—®é¢˜**: npm ä¾èµ–ç¼ºå¤±

**è§£å†³**:

```bash
cd tauri-app
rm -rf node_modules package-lock.json
npm install
npm run tauri:dev
```

---

## ğŸ’¡ å¼€å‘æœ€ä½³å®è·µ

### 1. æ°¸è¿œä½¿ç”¨ `tauri:dev`

```bash
# âœ… æ­£ç¡® - å¼€å‘ Tauri åº”ç”¨
npm run tauri:dev

# âŒ é”™è¯¯ - åªå¼€å‘å‰ç«¯ UI
npm run dev
```

### 2. çƒ­é‡è½½

å¯åŠ¨åï¼Œä¿®æ”¹ä»£ç ä¼šè‡ªåŠ¨é‡è½½ï¼š

- **å‰ç«¯ä»£ç ** (React/JS): ç«‹å³çƒ­é‡è½½ âš¡
- **åç«¯ä»£ç ** (Rust): è‡ªåŠ¨é‡æ–°ç¼–è¯‘ï¼ˆéœ€å‡ ç§’ï¼‰

### 3. è°ƒè¯•

```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
RUST_LOG=debug npm run tauri:dev

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—
# æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆçª—å£ä¸­ Cmd+Option+Iï¼‰
```

### 4. åœæ­¢åº”ç”¨

```bash
# åœ¨ç»ˆç«¯æŒ‰ Ctrl + C
# æˆ–å…³é—­åº”ç”¨çª—å£
```

---

## ğŸ“ å¿«é€Ÿå‚è€ƒå¡ç‰‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç†”ç›ç®¡ç†æ–‡ä»¶ä¸Šä¼ å·¥å…· - å¯åŠ¨æŒ‡å—        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  å¯åŠ¨å‘½ä»¤:                              â”‚
â”‚  cd tauri-app                           â”‚
â”‚  npm run tauri:dev                      â”‚
â”‚                                         â”‚
â”‚  ä¸è¦ä½¿ç”¨:                              â”‚
â”‚  npm run dev  âŒ                        â”‚
â”‚                                         â”‚
â”‚  API åœ°å€ (å·²å›ºå®š):                     â”‚
â”‚  http://42.192.76.234:8081              â”‚
â”‚                                         â”‚
â”‚  ç™»å½•ç•Œé¢:                              â”‚
â”‚  - ç”¨æˆ·å/æ‰‹æœºå· âœ…                     â”‚
â”‚  - å¯†ç  âœ…                              â”‚
â”‚  - API åœ°å€ âŒ (å·²ç§»é™¤)                 â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ é—®é¢˜å·²è§£å†³æ¸…å•

- [x] âœ… invoke é”™è¯¯ - æ·»åŠ ç¯å¢ƒæ£€æŸ¥
- [x] âœ… Tauri CLI ç¼ºå¤± - å·²å®‰è£…
- [x] âœ… é…ç½®æ–‡ä»¶ç¼ºå¤± - å·²åˆ›å»º
- [x] âœ… build.rs ç¼ºå¤± - å·²åˆ›å»º
- [x] âœ… Excel API é”™è¯¯ - å·²ä¿®å¤
- [x] âœ… API åœ°å€å›ºå®š - å·²å®Œæˆ
- [x] âœ… å›¾æ ‡æ–‡ä»¶ç¼ºå¤± - å·²åˆ›å»º
- [x] âœ… æœªä½¿ç”¨å¯¼å…¥è­¦å‘Š - å·²æ¸…ç†

---

## ğŸš€ ä¸‹ä¸€æ­¥

åº”ç”¨ç°åœ¨åº”è¯¥æ­£åœ¨ç¼–è¯‘å’Œå¯åŠ¨ä¸­...

**ç­‰å¾…çª—å£æ‰“å¼€å**:

1. æµ‹è¯•ç™»å½•åŠŸèƒ½
2. æ£€æŸ¥æ˜¯å¦è¿æ¥åˆ°æ­£ç¡®çš„ API
3. æµ‹è¯•æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½

**å¦‚æœ‰é—®é¢˜**:

- æŸ¥çœ‹ç»ˆç«¯è¾“å‡º
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°ï¼ˆCmd+Option+Iï¼‰
- æŸ¥çœ‹ç›¸å…³æ–‡æ¡£

---

**çŠ¶æ€**: âœ… æ‰€æœ‰é—®é¢˜å·²ä¿®å¤  
**åº”ç”¨**: ğŸš€ æ­£åœ¨å¯åŠ¨ä¸­  
**é¢„è®¡**: 30-60 ç§’åçª—å£æ‰“å¼€

ğŸ‰ **è¯·è€å¿ƒç­‰å¾…ç¼–è¯‘å®Œæˆï¼**
